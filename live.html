<!DOCTYPE html>
<html>
  <head>
    <title>Live Streams</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <link rel="stylesheet" href="live.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“¡</text></svg>">
  </head>

  <body>
    <div class="container">
      <div class="player-column">
        <audio id="audioPlayer"></audio>
        <div id="audioControls">
          <button id="playPauseBtn" class="control-btn" title="Play/Pause (Space)">â–¶</button>
          <span id="timeDisplay">PAUSED</span>
          <div id="nowPlaying"></div>
          <div id="volumeControl">
            <button id="muteBtn" class="control-btn" title="Mute">ðŸ”Š</button>
            <input type="range" id="volumeSlider" min="0" max="100" value="50" title="Volume">
          </div>
        </div>
      </div>
      <div class="streams-column">
         <div id="mixBrowser">
           <div id="mixList"></div>
           <button id="findPlaylistsBtn" onclick="showPlaylistGuide()" style="width: 100%; padding: 12px 16px; font-size: 14px; font-weight: bold; margin-top: 10px; flex-shrink: 0;">Find Playlists...</button>
         </div>
       </div>
    </div>

    <div id="playlistGuideModal" class="modal" onclick="hidePlaylistGuide()" style="display: none;">
      <div class="modal-content slide-up" onclick="event.stopPropagation()">
        <button class="modal-close" onclick="hidePlaylistGuide()">Ã—</button>
        <h2>Find Stream Playlists</h2>
        <div class="playlist-guide">
          <div class="guide-section">
            <h3>SomaFM</h3>
            <p><a href="https://somafm.com/listen/" target="_blank" onclick="hidePlaylistGuide()">somafm.com/listen/</a></p>
            <ol>
              <li>Click on a station you like</li>
              <li>Right-click on the <strong>AAC 128K</strong> link</li>
              <li>Select "Copy link" or "Copy link address"</li>
              <li>Paste into the Playlist URL box above</li>
            </ol>
          </div>
          <div class="guide-section">
            <h3>Shoutcast</h3>
            <p><a href="https://directory.shoutcast.com/" target="_blank" onclick="hidePlaylistGuide()">directory.shoutcast.com</a></p>
            <ol>
              <li>Browse or search for a station or genre</li>
              <li>Click the <strong>download icon</strong> next to the station</li>
              <li>Right-click on <strong>Winamp (.pls)</strong></li>
              <li>Select "Copy link" or "Copy link address"</li>
              <li>Paste into the Playlist URL box above</li>
            </ol>
          </div>
          <div class="guide-section">
            <h3>Finding Streams Online</h3>
            <ul>
              <li>Search <strong>"[station name] m3u"</strong> or <strong>"[station name] playlist"</strong> in Google</li>
              <li>Look for links ending in <code>.m3u</code> or <code>.pls</code></li>
              <li>These are playlist files that work with our player</li>
              <li>If you find a direct stream URL (http/https), paste it in the box above</li>
              <li>Many streaming sites use walled gardens - look for independent radio directories</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script src="core.js"></script>
    <script src="player.js"></script>
    <script src="live.js"></script>
    <script>
      // live.html restoration - restore live stream if available
      (async function restoreLiveApp() {
        const restored = await restoreLivePlayer();
        if (!restored) {
          // No live stream to restore, initialize display
          displayLiveStreams();
        }
      })();
    </script>
  </body>

</html>
